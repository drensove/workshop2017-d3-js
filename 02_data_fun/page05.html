<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>05 - Dataset ESI</title>
	<!--<script src="https://d3js.org/d3.v4.min.js"></script>-->
	<!--<link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/6.0.0/normalize.min.css">-->
	<link rel="stylesheet" type="text/css" href="../css/main.css">
	<link rel="stylesheet" type="text/css" href="../css/normalize.min.css">
	<script src="../library/d3.min.js"></script>
	
	<style type="text/css">
		
		.dot1
		{
				stroke: none;
				fill:steelblue;
		}

		.dot2
		{
				stroke: none;
				fill:darkred;
		}
	</style>

</head>
<body>
<nav class="nav">
	<h4>MENU</h4>
	<a href="index.html">Page 01</a>
	<a href="page02.html">Page 02</a>
	<a href="page03.html">Page 03</a>
	<a href="page04.html">Page 04</a>
	<a href="page05.html" class="LinkActiv">Page 05</a>
</nav>

<script type="text/javascript">
	window.onload = function () {
		
		var margin = {top: 10, left: 40, bottom: 20, right: 10};
		var width = 400 - margin.left - margin.right;
		var height = 400 - margin.top - margin.bottom;

		var svg = d3.select('body').append('svg')
			.attr('height', height + margin.top + margin.bottom)
 			.attr('width', width + margin.left + margin.right)
 			.append('g')
 			.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');
 			//move and transform the svg frame---/

 		 

 	d3.csv('esi.csv', function(d) {
 		return{
 			//Id: d.Id,
 			Name: d.Name,
 			ESI: +d.ESI,
 			Planetenklasse: d.Planetenklasse,
 			Masse: +d.Masse,
 			//Radius: +d.Radius,
 			//Flux: +d.Flux,
 			//Teq: +d.Teq,
 			Umlaufzeit: +d.Umlaufzeit,
 			Entfernung: +d.Entfernung,
 			Status: d.Status
 		};
 	},

 		function (error, data) {
 			 if (error) console.log(error);
				    	console.log(data);
  		
	  		data.forEach(function(d){
	 		 	//d.Id = d.Id;
	 		 	d.Name = d.Name;
				d.ESI = +d.ESI;
				d.Planetenklasse = d.Planetenklasse;
				d.Masse = +d.Masse;
				//d.Radius = +d.Radius;
				//d.Flux = +d.Flux;
				//d.Teq = +d.Teq;
				d.Umlaufzeit = +d.Umlaufzeit;
				d.Entfernung = +d.Entfernung;
				d.Status = d.Status;
	 		});

  	 		//--drawing the svg--//

	 	 var x = d3.scaleLinear()
	 	 	.range([0, width])
	 		.domain([0, d3.max(data, function(d) {return d.Umlaufzeit; })]); //start by min=0
	 	// 	.domain(d3.extent(data, function (d) {return d.SepalLengthCm; })); //start by min=data

	 	 var y = d3.scaleLinear()
	 	 	.range([height, 0 ])
	 		.domain([0, d3.max(data, function(d) {return d.Entfernung; })]); 
	 	// 	.domain(d3.extent(data, function (d) {return d.SepalWidthCm; })); 

	 	svg.append('g')
	 		.call(d3.axisLeft(y));

	 	svg.append('g')
	 		.attr('transform', 'translate(0,' + height +')')
	 		.call(d3.axisBottom(x));

	 	svg.selectAll('.dot') //creating circles with classes.dots
			.data(data)
			.enter().append('circle')
			.attr('class', 'dot')
			.attr('r', 3)
			.attr('cx', function(d) {return x (d.Umlaufzeit);})
			.attr('cy', function(d) {return y (d.Entfernung);})

 	}); //--end from csv data

}; //--end


</script>

</body>
</html>